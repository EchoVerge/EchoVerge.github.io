📊 第一部分：功能需求分析 (Feature Analysis)
根據原本 Wallet.json 的程式碼邏輯，我們需要重建以下核心模組：

1. 基礎資料設定 (Settings Module)
這些是下拉選單的資料來源，需要優先建立。

類別管理 (Categories)：區分「支出」與「收入」。(原預設值：餐飲、交通、薪資...)

帳戶管理 (Accounts)：現金、銀行帳戶等，需包含「初始金額」。(需排除投資帳戶，因為它由投資模組管理)

標籤管理 (Tags)：例如 #出差、#家庭、#不納入統計。

2. 核心交易功能 (Transaction Module)
這是 App 的心臟。

CRUD：新增、讀取、修改、刪除交易。

特殊邏輯：

轉帳：A 帳戶轉 B 帳戶（需自動生成一筆「轉帳支出」和一筆「轉帳收入」，並透過 ID 關聯或備註標記）。

餘額調整：手動修正帳戶餘額（自動計算差額並生成調整交易）。

3. 儀表板與報表 (Dashboard & Reports)
這是原本前端顯示的重點。

資產總覽：計算所有帳戶的「目前餘額」總和 + 投資總值。

帳戶列表：顯示個別帳戶的即時餘額。

圖表分析：

收支趨勢圖 (Bar Chart)。

支出類別圓餅圖 (Pie Chart)。

篩選器：依照日期範圍、類別、帳戶、標籤篩選列表。

統計排除：計算收支時，若交易包含 #不納入統計 標籤，需自動排除。

4. 投資組合 (Portfolio Module) - 🚨 重大改變區
持股管理：買入/賣出 (新增/刪除持股)。

⚠️ 痛點解決：原本依賴 Google Sheets 的 GOOGLEFINANCE 函式自動抓股價。

本地版挑戰：HTML 無法使用該函式。

解決方案：

V1 (初期)：手動輸入「當前市價」來更新總值。

V2 (進階)：串接免費的股票 API (如 Finnhub 或 Yahoo Finance Proxy) （這部分我們晚點再做，先求穩定）。

💾 第二部分：Firestore 資料庫設計 (Schema Design)
NoSQL 資料庫不使用「分頁 (Sheet)」，而是使用「集合 (Collection)」與「文件 (Document)」。

建議的資料結構如下：

categories (集合)

文件範例: { name: "餐飲", type: "支出", createdAt: Timestamp }

accounts (集合)

文件範例: { name: "玉山銀行", initialBalance: 10000, createdAt: Timestamp }

tags (集合)

文件範例: { name: "#家庭", createdAt: Timestamp }

transactions (集合)

文件範例:

JSON

{
  "date": Timestamp,
  "type": "支出",
  "category": "餐飲",
  "account": "現金",
  "item": "午餐",
  "amount": 120,
  "notes": "好吃",
  "tags": ["#個人"],
  "createdAt": Timestamp
}
portfolio (集合)

文件範例: { ticker: "VOO", quantity: 10, currentPrice: 400 (手動更新), updatedAt: Timestamp }

🗓️ 第三部分：遷移開發計畫 (Migration Roadmap)
我們將開發過程分為 5 個階段，確保每一步都是穩定的。

🟢 階段一：地基建設 (Infrastructure)
目標：建立專案，確保 Firebase 連線成功，畫面框架跑出來。

任務：

建立本地資料夾結構與 Git 初始化。

設定 Firebase Firestore (取得 Config)。

建立 index.html 基礎框架 (Bootstrap 導覽列)。

建立 services/base.js (Firebase 連線模組)。

🟡 階段二：設定與資料管理 (Master Data)
目標：讓使用者可以新增類別、帳戶和標籤。

任務：

開發 services/category.js, services/account.js, services/tag.js。

製作「系統設定」頁籤的 UI。

寫一個「初始化腳本」，按下一鍵就寫入預設的類別與帳戶 (從原本的 JSON 移植)。

🟠 階段三：交易核心 (Transaction Core)
目標：可以記帳了！

任務：

開發 services/transaction.js (新增、讀取)。

製作「新增交易」的表單 (日期、金額、連動選單)。

製作「交易列表」顯示 (依照日期排序)。

🔵 階段四：邏輯運算與儀表板 (Logic & Dashboard)
目標：讓數字動起來，顯示餘額與圖表。

任務：

帳戶餘額計算邏輯：(初始金額 + 所有收入 - 所有支出)。

圖表整合：引入 Chart.js，繪製圓餅圖與長條圖。

進階功能：實作「轉帳」與「帳目核對」功能。

🟣 階段五：投資組合與部署 (Portfolio & Deploy)
目標：補完投資功能，並發布網站。

任務：

開發投資組合 CRUD。

實作「手動更新股價」功能。

GitHub Pages 部署：推送到 GitHub 並上線。


當我把整個網站託管在github上，其他人其實已經沒有必要在我的網站上花錢了對吧？